@model HMSphere.MVC.ViewModels.RegisterViewModel

@{
	Layout = "_AccountLayout.cshtml";
	ViewData["Title"] = "Register";
}
<section class="form animated flipInX">
	<div class="head">Hospital Registration</div>
	<div class="form-wrapper">
		<form asp-action="SaveRegister" method="post">
			@Html.AntiForgeryToken()
			<div>
				@Html.ValidationSummary(true, "", new { @class = "text-danger" })
			</div>

			<!-- First Name, Last Name, Username in a single row -->
			<div class="form-row">
				<div class="form-group">
					<label asp-for="FirstName" class="control-label"></label>
					<input asp-for="FirstName" class="form-control" placeholder="First Name" />
					<span asp-validation-for="FirstName" class="text-danger"></span>
				</div>
				<div class="form-group">
					<label asp-for="LastName" class="control-label"></label>
					<input asp-for="LastName" class="form-control" placeholder="Last Name" />
					<span asp-validation-for="LastName" class="text-danger"></span>
				</div>
				<div class="form-group">
					<label asp-for="Username" class="control-label"></label>
					<input asp-for="Username" class="form-control" placeholder="User Name" />
					<span asp-validation-for="Username" class="text-danger"></span>
				</div>
			</div>

			<!-- National ID, Email, Phone Number, Password and Confirm Password in a single row -->
			<div class="form-row">
				<div class="form-group">
					<label asp-for="NID" class="control-label"></label>
					<input asp-for="NID" class="form-control" placeholder="National ID" />
					<span asp-validation-for="NID" class="text-danger"></span>
				</div>
				<div class="form-group">
					<label asp-for="Email" class="control-label"></label>
					<input asp-for="Email" class="form-control" type="email" placeholder="Enter your email" />
					<span asp-validation-for="Email" class="text-danger"></span>
				</div>
				<div class="form-group">
					<label asp-for="PhoneNumber" class="control-label"></label>
					<input asp-for="PhoneNumber" class="form-control" placeholder="Enter phone number" />
					<span asp-validation-for="PhoneNumber" class="text-danger"></span>
				</div>
			</div>
			<div class="form-row">
				<div class="form-group">
					<label asp-for="Password" class="control-label"></label>
					<input asp-for="Password" class="form-control" type="password" placeholder="Enter your password" />
					<span asp-validation-for="Password" class="text-danger"></span>
				</div>
				<div class="form-group">
					<label asp-for="ConfirmPassword" class="control-label"></label>
					<input asp-for="ConfirmPassword" class="form-control" type="password" placeholder="Confirm your password" />
					<span asp-validation-for="ConfirmPassword" class="text-danger"></span>
				</div>
				<div class="form-group">
					<label asp-for="Gender" class="control-label"></label>
					<select asp-for="Gender" class="form-control">
						<option value="">Select Gender:</option>
						<option value="male">Male</option>
						<option value="female">Female</option>
						<option value="other">Other</option>
					</select>
					<span asp-validation-for="Gender" class="text-danger"></span>
				</div>
			</div>

			<!-- Address and Role selection in a single row -->
			<div class="form-row">
				<div class="form-group">
					<label asp-for="Address" class="control-label"></label>
					<textarea asp-for="Address" class="form-control" rows="1" placeholder="Enter your address"></textarea>
					<span asp-validation-for="Address" class="text-danger"></span>
				</div>
				<div class="form-group">
					<label asp-for="Role" class="control-label"></label>
					<select asp-for="Role" class="form-control" id="role-select">
						<option value="">Select Role</option>
						<option value="Doctor">Doctor</option>
						<option value="Patient">Patient</option>
						<option value="Staff">Staff</option>
					</select>
					<span asp-validation-for="Role" class="text-danger"></span>
				</div>
			</div>

			<!-- Doctor inputs -->
			<div id="doctor-fields" class="role-fields" style="display: none;">
				<div class="form-row">
					<div class="form-group">
						<label asp-for="Specialization" class="control-label"></label>
						<input asp-for="Specialization" class="form-control" placeholder="Enter your specialization" />
						<span asp-validation-for="Specialization" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label asp-for="DepartmentId" class="control-label">Departments</label>
						<select asp-for="DepartmentId" class="form-control" asp-items="@Model.Departments">
							<option value="">Select your department</option>
						</select>
						<span asp-validation-for="DepartmentId" class="text-danger"></span>
					</div>
				</div>
			</div>

			<!-- Patient inputs -->
			<div id="patient-fields" class="role-fields" style="display: none;">
				<div class="form-row">
					<div class="form-group">
						<label asp-for="DiseaseHistory" class="control-label"></label>
						<textarea asp-for="DiseaseHistory" class="form-control" rows="1" placeholder="Enter disease history"></textarea>
						<span asp-validation-for="DiseaseHistory" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label asp-for="Blood" class="control-label"></label>
						<input asp-for="Blood" class="form-control" placeholder="Enter your blood type" />
						<span asp-validation-for="Blood" class="text-danger"></span>
					</div>
				</div>
				<div class="form-row">
					<div class="form-group">
						<label asp-for="Height" class="control-label"></label>
						<input asp-for="Height" class="form-control" placeholder="Enter your height" />
						<span asp-validation-for="Height" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label asp-for="Weight" class="control-label"></label>
						<input asp-for="Weight" class="form-control" placeholder="Enter your weight" />
						<span asp-validation-for="Weight" class="text-danger"></span>
					</div>
				</div>
			</div>


			<!-- Staff inputs -->
			<div id="staff-fields" class="role-fields" style="display: none;">
				<div class="form-row">
					<div class="form-group">
						<label asp-for="JobTitle" class="control-label"></label>
						<input asp-for="JobTitle" class="form-control" placeholder="Enter your job title" />
						<span asp-validation-for="JobTitle" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label asp-for="HireDate" class="control-label"></label>
						<input asp-for="HireDate" class="form-control" type="date" />
						<span asp-validation-for="HireDate" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label asp-for="DepartmentId" class="control-label">Departments</label>
						<select asp-for="DepartmentId" class="form-control" asp-items="@Model.Departments">
							<option value="">Select your department</option>
						</select>
						<span asp-validation-for="DepartmentId" class="text-danger"></span>
					</div>
				</div>
			</div>

			<!-- Submit button -->
			<div class="form-group">
				<button type="submit" class="btn btn-primary">Register</button>
			</div>

			<div class="remember form-group">
				<p>I Remember</p>
				<a asp-controller="Account" asp-action="Login">Back To Login?</a>
			</div>

			@if (ViewData.ModelState[""]?.Errors.Count > 0)
			{
				<div class="alert alert-danger">
					@ViewData.ModelState[""]?.Errors[0].ErrorMessage
				</div>
			}
		</form>
	</div>
</section>

<style>
	body {
		font-family: Arial, sans-serif;
		background-image: url('/images/3.jpg');
		background-size: cover;
		background-repeat: no-repeat;
		background-attachment: fixed;
		margin: 0;
		padding: 0;
	}

	a {
		text-decoration: none;
	}

	.remember {
		justify-content: center;
		display: flex;
		gap: 5px;
	}

	.form {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		background: #fff;
		width: 700px;
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	}
	/*     .container {
			max-width: 700px; /* Increased width for more space
			margin: 70px auto;
			background-color: rgba(255, 255, 255, 0.95);
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
			border-radius: 5px;
			max-height: 80vh;
			overflow-y: auto;
		} */

	.form-wrapper {
		padding-top: 20px;
		padding-left: 20px;
		padding-bottom: 15px;
		padding-right: 20px;
		box-sizing: border-box;
	}

	.form-row {
		display: flex;
		gap: 10px; /* Space between the columns */
		margin-bottom: 10px; /* Space between rows */
	}

		.form-row .form-group {
			flex: 1; /* Makes each input field take equal space */
			margin-bottom: 0; /* Remove bottom margin for a tighter layout */
		}

	.form-group {
		margin-bottom: 10px;
	}

	label {
		display: block;
		font-weight: bold;
		margin-bottom: 3px;
		color: #333;
		font-size: 14px;
	}

	input[type="text"], input[type="number"], input[type="email"], input[type="password"], select, textarea {
		width: 100%;
		padding: 8px;
		border: 1px solid #ccc;
		border-radius: 3px;
		box-sizing: border-box;
		font-size: 14px;
	}

	textarea {
		resize: vertical;
	}

	.btn {
		display: block;
		width: 100%;
		padding: 10px;
		background-color: #2fa4e7;
		color: #fff;
		border: none;
		border-radius: 5px;
		font-size: 16px;
		cursor: pointer;
	}

		.btn:hover {
			background-color: #2c94d1;
		}

	.role-fields {
		margin-bottom: 15px;
	}

	.head {
		width: 100%;
		height: 60px;
		color: #fff;
		background-color: #2fa3e6;
		display: flex;
		justify-content: center;
		align-items: center;
		margin: 0;
		box-sizing: border-box;
		font-size: 18px;
		font-weight: 400;
	}
</style>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
	<script>
		document.getElementById('role-select').addEventListener('change', function () {
			var selectedRole = this.value;

			// Hide all role-specific fields
			document.querySelectorAll('.role-fields').forEach(function (el) {
				el.style.display = 'none';
			});

			// Show fields based on the selected role
			if (selectedRole === 'Doctor') {
				document.getElementById('doctor-fields').style.display = 'block';
			} else if (selectedRole === 'Patient') {
				document.getElementById('patient-fields').style.display = 'block';
			} else if (selectedRole === 'Staff') {
				document.getElementById('staff-fields').style.display = 'block';
			}
		});
	</script>
}
